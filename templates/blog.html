<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- owl-carousel min css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- owl-carousel theme css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <title>Blog Application</title>

    <style>
        .card{
            background-color: aliceblue
        }
    </style>

  </head>
  <body>
    
    <section>
        <div class="container-fluid my-5">
            <h1 class="text-center fw-blod display-2">
                Blog 
                <button type="submit" class="btn btn-secondary" style="float: right;">
                    <a href="../form/" style="color:white"> New Blog </a>
                </button>
            </h1>
            <div class="row mt-5">
                <div class="owl-carousel owl-theme">
                    <!-- slides -->
                    <div class="item mb-4">
                        <div class="card border-0">
                            <img class="card-img-top" src="/static/1 (1).jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Title of Blog</h4>
                                <p>User name-</p>
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                                <a class="btn btn-primary">View</a>
                                <a class="btn btn-primary">Update</a>
                                <a class="btn btn-primary">Delete</a>
                            </div>
                        </div>
                    </div>
                     
                    <div class="item mb-4">
                        <div class="card border-0">
                            <img class="card-img-top" src="/static/1 (2).jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Title of Blog</h4>
                                <p>User name-</p>
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                                <a class="btn btn-primary">View</a>
                                <a class="btn btn-primary">Update</a>
                                <a class="btn btn-primary">Delete</a>
                            </div>
                        </div>
                    </div>

                    <div class="item mb-4">
                        <div class="card border-0">
                            <img class="card-img-top" src="/static/1 (3).jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Title of Blog</h4>
                                <p>User name-</p>
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                                <a class="btn btn-primary">View</a>
                                <a class="btn btn-primary">Update</a>
                                <a class="btn btn-primary">Delete</a>
                            </div>
                        </div>
                    </div>

                    <div class="item mb-4">
                        <div class="card border-0">
                            <img class="card-img-top" src="/static/1 (4).jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Title of Blog</h4>
                                <p>User name-</p>
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                                <a class="btn btn-primary">View</a>
                                <a class="btn btn-primary">Update</a>
                                <a class="btn btn-primary">Delete</a>
                            </div>
                        </div>
                    </div>

                    <div class="item mb-4">
                        <div class="card border-0">
                            <img class="card-img-top" src="/static/1 (5).jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Title of Blog</h4>
                                <p>User name-</p>
                                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                                <a class="btn btn-primary">View</a>
                                <a class="btn btn-primary">Update</a>
                                <a class="btn btn-primary">Delete</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="insertHere"> </div>
                </div>
            </div>
        </div>
    </section>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- cdn files -->

    <!-- jquery min -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- owl-carousel min js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- init owl-carousel -->
    <script>
        $('.owl-carousel').owlCarousel({
            loop:false,
            margin:10,
            nav:true,
            responsive:{
                0:{
                    items:1
                },
                600:{
                    items:3
                },
                1000:{
                    items:4
                }
            }
        })

        //fetch api 
        async function getUsers() {
            let url = '/Blogs';
            try {
                let res = await fetch(url);
                return await res.json();
            } catch (error) {
                console.log(error);
            }
        }

        //render api
        async function renderUsers() {
            let users = await getUsers();
            let html = '';
            users.forEach(user => {
                let htmlSegment = `<div class="item mb-4">
                    <div class="card border-0">
                        <img class="card-img-top" src="${user.img}" alt="Card image cap">
                        <div class="card-body">
                            <h4 class="card-title">${user.title}</h4>
                            <p>${user.author}</p>
                            <p class="card-text">${user.small_desc}</p>
                            <a class="btn btn-primary">View</a>
                            <a class="btn btn-primary">Update</a>
                            <a class="btn btn-primary">Delete</a>
                        </div>
                    </div>
                </div>`;
        
                html += htmlSegment;
            });
        
            let container = document.querySelector(".insertHere");
            container.innerHTML = html;
        }
        
        renderUsers();
    </script>
  </body>
</html>